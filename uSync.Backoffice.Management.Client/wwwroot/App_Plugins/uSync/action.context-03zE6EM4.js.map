{"version":3,"file":"action.context-03zE6EM4.js","sources":["../../../assets/src/workspace/context/action.context.ts"],"sourcesContent":["import { UmbArrayState } from \"@umbraco-cms/backoffice/observable-api\";\r\nimport { UmbContextToken } from \"@umbraco-cms/backoffice/context-api\";\r\n\r\nimport { uSyncActionRepository } from \"../..\";\r\nimport { UmbControllerHost } from \"@umbraco-cms/backoffice/controller-api\";\r\nimport { UmbBaseController } from \"@umbraco-cms/backoffice/class-api\";\r\nimport { SyncActionGroup } from \"../../api\";\r\n\r\n/**\r\n * @exports \r\n * @class uSyncWorkspaceActionContext\r\n * @description context for getting and seting up actions.\r\n */\r\nexport class uSyncWorkspaceActionContext extends UmbBaseController {\r\n\r\n    #repository: uSyncActionRepository;\r\n\r\n    constructor(host:UmbControllerHost) {\r\n        super(host);\r\n\r\n        this.provideContext(USYNC_ACTION_CONTEXT_TOKEN, this);\r\n        this.#repository = new uSyncActionRepository(this);\r\n    }\r\n\r\n    #actions = new UmbArrayState<SyncActionGroup>([], (x) => x.key);\r\n    public readonly actions = this.#actions.asObservable();\r\n\r\n    async getActions() {\r\n\r\n        const { data } = await this.#repository.getActions();\r\n\r\n        if (data) {           \r\n            this.#actions.setValue(data);\r\n        }\r\n    }\r\n\r\n    async getTime() {\r\n        const {data} = await this.#repository.getTime();\r\n\r\n        if (data) {\r\n            console.log(data);\r\n        }\r\n    }\r\n\r\n\r\n    public performAction(group: string, key: string) {\r\n\r\n        console.log(\"Perform Action:\", group, key);\r\n\r\n    }\r\n}\r\n\r\nexport default uSyncWorkspaceActionContext;\r\n\r\nexport const USYNC_ACTION_CONTEXT_TOKEN = \r\n    new UmbContextToken<uSyncWorkspaceActionContext>(uSyncWorkspaceActionContext.name);"],"names":["uSyncWorkspaceActionContext","UmbBaseController","host","__privateAdd","_repository","_actions","__privateSet","UmbArrayState","x","__privateGet","USYNC_ACTION_CONTEXT_TOKEN","uSyncActionRepository","data","group","key","UmbContextToken"],"mappings":";;;;;;;;;;;;;;;AAaO,MAAMA,UAAoCC,EAAkB;AAAA,EAI/D,YAAYC,GAAwB;AAChC,UAAMA,CAAI;AAHd,IAAAC,EAAA,MAAAC,GAAA;AASA,IAAAD,EAAA,MAAAE,GAAA;AAAA,IAAAC,EAAA,MAAAD,GAAW,IAAIE,EAA+B,CAAA,GAAI,CAACC,MAAMA,EAAE,GAAG,IAC9C,KAAA,UAAUC,EAAA,MAAKJ,GAAS,aAAa,GAL5C,KAAA,eAAeK,GAA4B,IAAI,GAC/CJ,EAAA,MAAAF,GAAc,IAAIO,EAAsB,IAAI;AAAA,EACrD;AAAA,EAKA,MAAM,aAAa;AAEf,UAAM,EAAE,MAAAC,EAAK,IAAI,MAAMH,EAAA,MAAKL,GAAY,WAAW;AAEnD,IAAIQ,KACKH,EAAA,MAAAJ,GAAS,SAASO,CAAI;AAAA,EAEnC;AAAA,EAEA,MAAM,UAAU;AACZ,UAAM,EAAC,MAAAA,EAAI,IAAI,MAAMH,EAAA,MAAKL,GAAY,QAAQ;AAE9C,IAAIQ,KACA,QAAQ,IAAIA,CAAI;AAAA,EAExB;AAAA,EAGO,cAAcC,GAAeC,GAAa;AAErC,YAAA,IAAI,mBAAmBD,GAAOC,CAAG;AAAA,EAE7C;AACJ;AAnCIV,IAAA,eASAC,IAAA;AA8BG,MAAMK,IACT,IAAIK,EAA6Cf,EAA4B,IAAI;"}